var llantaact="llanta1.png";var techoact="techo2.png";var coche="cnegro.jpg";$(document).on("ready",inicio);function borrarCanvas(c){var a=cargaContextoCanvas(c);
var b=$(c);a.clearRect(0,0,b.width,b.height);}function cambiarColor(a){var b=a.currentTarget.id;var c="c"+b+".jpg";coche=c;borrarCanvas("micanvas");cargarCanvas("micanvas",c,0,0,1000,600);
cargarCanvas("micanvas",llantaact,130,240,180,180);cargarCanvas("micanvas",llantaact,731,232,192,192);cargarCanvas("micanvas",techoact,415,72,260,114);
$("#caracteristicas li:first").html("<strong>Color: </strong> "+b.substring(0,1).toUpperCase()+b.substr(1,b.length));}function cambiarNombre(){var b={height:"auto",margin:"0 1em",opacity:1,width:"12em"};
var a={height:0,margin:0,opacity:0,width:0};if($("#nombre").css("opacity")!=1){$("#nombre").css(b);}else{$("#nombre").css(a);}$("#nombre").focus();}function cambiarLlantas(a){var b=a.currentTarget.id+".png";
var c="";borrarCanvas("micanvas");cargarCanvas("micanvas",coche,0,0,1000,600);cargarCanvas("micanvas",b,130,240,180,180);cargarCanvas("micanvas",b,731,232,192,192);
cargarCanvas("micanvas",techoact,415,72,260,114);llantaact=b;if(b=="llanta1.png"){c="Baratas";}else{c="Caras";}$("#caracteristicas li:nth-child(3)").html("<strong>Llantas: </strong> "+c);
playPause();}function cambiarTecho(c){var a=c.currentTarget.id+".png";var b="";borrarCanvas("micanvas");cargarCanvas("micanvas",coche,0,0,1000,600);cargarCanvas("micanvas",llantaact,130,240,180,180);
cargarCanvas("micanvas",llantaact,731,232,192,192);cargarCanvas("micanvas",a,415,72,260,114);techoact=a;if(a=="techo1.png"){b="Transparente";}else{b="Mate";
}$("#caracteristicas li:nth-child(2)").html("<strong>Techo: </strong> "+b);}function cambioNombre(a){if(a.keyCode==13){var c={height:0,margin:0,opacity:0,width:0};
var b=$("#nombre").val();$("h1").text("Nuevo "+b);$("#nombreauto").text(b);$("#nombre").val("");$("#nombre").css(c);}}function cargaContextoCanvas(b){var a=document.getElementById(b);
if(a&&a.getContext){var c=a.getContext("2d");if(c){return c;}}return FALSE;}function cargarCanvas(e,f,a,h,g,d){var b=cargaContextoCanvas(e);if(b){var c=new Image();
c.src=f;c.onload=function(){b.drawImage(c,a,h,g,d);};}}function playPause(){var a=document.getElementsByTagName("audio")[0];if(a.paused){a.play();}else{a.pause();
}}function inicio(){cargarCanvas("micanvas",coche,0,0,1000,600);cargarCanvas("micanvas",llantaact,130,240,180,180);cargarCanvas("micanvas",llantaact,731,232,192,192);
cargarCanvas("micanvas",techoact,415,72,260,114);$("#personalizar").on("click",movida);$("#btnComprar").on("click",cambiarNombre);$("#nombre").on("keydown",cambioNombre);
$("#micanvas").on("click",playPause);}function movida(){var a={margin:0,maxHeight:0,opacity:0,overflow:"hidden",padding:0,width:0};var b={height:"auto",opacity:1,width:"40%"};
if($("#historia").css("opacity")!=1){$("#historia").removeAttr("style");$("#personalizacion").removeAttr("style");$("#personalizar").text("Personalizar");
}else{$("#historia").css(a);$("#personalizacion").css(b);$("#personalizar").text("Ver Historia");}$("article div").on("click",cambiarColor);$("#llantas figure").on("click",cambiarLlantas);
$("#techo figure").on("click",cambiarTecho);}