define(["core/sandbox"],function(a){return{inputId:"todo-input",botonId:"todo-boton",listaId:"todo-lista",iniciar:function(){that=this;this.input=document.getElementById(this.inputId);
this.boton=document.getElementById(this.botonId);this.lista=document.getElementById(this.listaId);this.localStorage=window.localStorage;this.boton.onclick=function(){that.buscarValidacion(that.input.value);
};this.input.onkeypress=function(c){if(c.keyCode==13){that.buscarValidacion(that.input.value);}};this.sandbox=new a(this);this.sandbox.on("input-validado",this.limpiarInput);
this.sandbox.on("input-validado",this.agregarTodo);if(localStorage.length!==0){for(var b=0;b<localStorage.length;b++){that.input.value=localStorage.key(b);
this.sandbox.emit("input-validado",that.input.value);}}},limpiarInput:function(){this.input.value="";this.input.focus();},agregarTodo:function(c){if(this.localStorage){this.localStorage.setItem(c,c);
}var b=document.createElement("li");b.innerHTML='<a id="'+c+'" href="">'+c+"</a>";this.lista.insertBefore(b,this.lista.firstChild);this.element=document.getElementById(c);
this.element.onclick=function(){that.eliminarTodo(that.input.value);};this.sandbox.emit("nuevo-todo");},buscarValidacion:function(){this.sandbox.emit("buscar-validacion",{value:this.input.value});
},eliminarTodo:function(b){console.log(b);this.localStorage.removeKey(b);}};});